var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let u,a;function s(e,t){return u||(u=document.createElement("a")),u.href=t,e===u.href}function c(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function h(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function d(){return f(" ")}function m(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e){return""===e?null:+e}function y(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function b(e,t){e.value=null==t?"":t}function v(e){a=e}const w=[],x=[],k=[],_=[],C=Promise.resolve();let P=!1;function E(e){k.push(e)}const M=new Set;let N=0;function A(){const e=a;do{for(;N<w.length;){const e=w[N];N++,v(e),O(e.$$)}for(v(null),w.length=0,N=0;x.length;)x.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];M.has(t)||(M.add(t),t())}k.length=0}while(w.length);for(;_.length;)_.pop()();P=!1,M.clear(),v(e)}function O(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(E)}}const S=new Set;function T(e,t){e&&e.i&&(S.delete(e),e.i(t))}function j(e,t,n,r){if(e&&e.o){if(S.has(e))return;S.add(e),undefined.c.push((()=>{S.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function q(e){e&&e.c()}function H(e,n,l,u){const{fragment:a,on_mount:s,on_destroy:c,after_update:i}=e.$$;a&&a.m(n,l),u||E((()=>{const n=s.map(t).filter(o);c?c.push(...n):r(n),e.$$.on_mount=[]})),i.forEach(E)}function L(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function B(e,t){-1===e.$$.dirty[0]&&(w.push(e),P||(P=!0,C.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function I(t,o,l,u,s,c,i,h=[-1]){const f=a;v(t);const d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:o.target||f.$$.root};i&&i(d.root);let m=!1;if(d.ctx=l?l(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&s(d.ctx[e],d.ctx[e]=o)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](o),m&&B(t,e)),n})):[],d.update(),m=!0,r(d.before_update),d.fragment=!!u&&u(d.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);d.fragment&&d.fragment.l(e),e.forEach(p)}else d.fragment&&d.fragment.c();o.intro&&T(t.$$.fragment),H(t,o.target,o.anchor,o.customElement),A()}v(f)}class D{$destroy(){L(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Y(t){let n,r,o,l,u,a,m,g,b,v,w,x,k,_,C=t[0].name+"",P=t[0].power+"",E=t[0].hp+"";return{c(){n=h("h3"),r=f(C),o=d(),l=h("img"),m=d(),g=h("p"),b=f("Power: "),v=f(P),w=d(),x=h("br"),k=f("\n\tLife: "),_=f(E),s(l.src,u=t[1](t[0]))||$(l,"src",u),$(l,"alt",a=t[2](t[0])),$(l,"class","svelte-yly8tp")},m(e,t){i(e,n,t),c(n,r),i(e,o,t),i(e,l,t),i(e,m,t),i(e,g,t),c(g,b),c(g,v),c(g,w),c(g,x),c(g,k),c(g,_)},p(e,[t]){1&t&&C!==(C=e[0].name+"")&&y(r,C),1&t&&!s(l.src,u=e[1](e[0]))&&$(l,"src",u),1&t&&a!==(a=e[2](e[0]))&&$(l,"alt",a),1&t&&P!==(P=e[0].power+"")&&y(v,P),1&t&&E!==(E=e[0].hp+"")&&y(_,E)},i:e,o:e,d(e){e&&p(n),e&&p(o),e&&p(l),e&&p(m),e&&p(g)}}}function z(e,t,n){let{player:r}=t;return e.$$set=e=>{"player"in e&&n(0,r=e.player)},[r,e=>`shapes/${e.shape}${e.level}.png`,e=>`Shape: ${e.shape}-${e.level}`]}class G extends D{constructor(e){super(),I(this,e,z,Y,l,{player:0})}}function U(e,t,n){const r=e.slice();return r[1]=t[n],r}function F(e){let t,n,r=e[1]+"";return{c(){t=h("li"),n=f(r)},m(e,r){i(e,t,r),c(t,n)},p(e,t){1&t&&r!==(r=e[1]+"")&&y(n,r)},d(e){e&&p(t)}}}function J(t){let n,r,o,l,u,a,s=t[0],f=[];for(let e=0;e<s.length;e+=1)f[e]=F(U(t,s,e));return{c(){n=h("hr"),r=d(),o=h("h3"),o.textContent="Log (newest first)",l=d(),u=h("div"),a=h("ol");for(let e=0;e<f.length;e+=1)f[e].c();$(u,"class","svelte-gh0z6j")},m(e,t){i(e,n,t),i(e,r,t),i(e,o,t),i(e,l,t),i(e,u,t),c(u,a);for(let e=0;e<f.length;e+=1)f[e].m(a,null)},p(e,[t]){if(1&t){let n;for(s=e[0],n=0;n<s.length;n+=1){const r=U(e,s,n);f[n]?f[n].p(r,t):(f[n]=F(r),f[n].c(),f[n].m(a,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=s.length}},i:e,o:e,d(e){e&&p(n),e&&p(r),e&&p(o),e&&p(l),e&&p(u),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(f,e)}}}function K(e,t,n){let{log:r}=t;return e.$$set=e=>{"log"in e&&n(0,r=e.log)},[r]}class Q extends D{constructor(e){super(),I(this,e,K,J,l,{log:0})}}function R(t){let n,r,o;return{c(){n=h("h3"),n.textContent="You win!",r=d(),o=h("p"),o.textContent="You have killed all three operating systems. Does this mean that you are\n\ta good player? Or did you simply push through until luck spared you? If you\n\tare truly skilled, you should be able to win with each of the three shapes\n\tback to back. The game is somewhat luck-based but not so luck-based that\n\tthis is impossible if you figure out the optimal strategy."},m(e,t){i(e,n,t),i(e,r,t),i(e,o,t)},p:e,d(e){e&&p(n),e&&p(r),e&&p(o)}}}function V(t){let n,r,o;return{c(){n=h("input"),$(n,"type","button"),n.value="Continue to next level"},m(e,l){i(e,n,l),r||(o=m(n,"click",t[5]),r=!0)},p:e,d(e){e&&p(n),r=!1,o()}}}function W(e){let t,n,o,l,u;return{c(){t=h("input"),n=d(),o=h("input"),$(t,"type","number"),$(t,"placeholder","Power"),$(o,"type","button"),o.value="Expend"},m(r,a){i(r,t,a),b(t,e[3]),i(r,n,a),i(r,o,a),l||(u=[m(t,"input",e[6]),m(o,"click",e[4])],l=!0)},p(e,n){8&n&&g(t.value)!==e[3]&&b(t,e[3])},d(e){e&&p(t),e&&p(n),e&&p(o),l=!1,r(u)}}}function X(e){let t,n,r,o,l,u,a,s,c,f,m,$,g,y,b,v,w;function x(e,t){return e[2].hp>0&&e[0].hp>0?W:e[2].hp<=0&&e[0].level<3?V:e[2].hp<=0&&3==e[0].level?R:void 0}l=new G({props:{player:e[2]}}),c=new G({props:{player:e[0]}});let k=x(e),_=k&&k(e);return $=new Q({props:{log:e[1]}}),{c(){t=h("h1"),t.textContent="Turn Battle",n=d(),r=h("hr"),o=d(),q(l.$$.fragment),u=d(),a=h("hr"),s=d(),q(c.$$.fragment),f=d(),_&&_.c(),m=d(),q($.$$.fragment),g=d(),y=h("hr"),b=d(),v=h("p"),v.textContent="by Michael Skyba"},m(e,p){i(e,t,p),i(e,n,p),i(e,r,p),i(e,o,p),H(l,e,p),i(e,u,p),i(e,a,p),i(e,s,p),H(c,e,p),i(e,f,p),_&&_.m(e,p),i(e,m,p),H($,e,p),i(e,g,p),i(e,y,p),i(e,b,p),i(e,v,p),w=!0},p(e,[t]){const n={};4&t&&(n.player=e[2]),l.$set(n);const r={};1&t&&(r.player=e[0]),c.$set(r),k===(k=x(e))&&_?_.p(e,t):(_&&_.d(1),_=k&&k(e),_&&(_.c(),_.m(m.parentNode,m)));const o={};2&t&&(o.log=e[1]),$.$set(o)},i(e){w||(T(l.$$.fragment,e),T(c.$$.fragment,e),T($.$$.fragment,e),w=!0)},o(e){j(l.$$.fragment,e),j(c.$$.fragment,e),j($.$$.fragment,e),w=!1},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(o),L(l,e),e&&p(u),e&&p(a),e&&p(s),L(c,e),e&&p(f),_&&_.d(e),e&&p(m),L($,e),e&&p(g),e&&p(y),e&&p(b),e&&p(v)}}}function Z(e,t,n){const r=(e,t)=>Math.round(Math.random()*(t-e))+e;let o={name:`Player: ${navigator.platform}`,shape:["circle","square","triangle"][r(0,2)],level:0},l=["Assigned shape: "+o.shape,"Game start"];"triangle"==o.shape&&(o.power=1350),"square"==o.shape&&(o.hp=4);let u,a=["Ubuntu","Arch","OpenBSD"],s={shape:"computer",level:0};const c=()=>{let e=parseInt(u);if(Number.isNaN(e)||e>o.power||e<0)return void n(1,l=[`Invalid power provided: ${u}`,...l]);let t=r(0,Math.min(o.power,s.power));n(0,o.power-=e,o),n(2,s.power-=t,s);let a=[];if(e>t){let e=1;"circle"==o.shape&&(e=1+.1*o.level),a=[`Computer loses ${e} HP`,`Player gains ${e} HP`,"Player wins exchange"],n(2,s.hp-=e,s),n(0,o.hp+=e,o)}else if(t>e){let e=1;"circle"==o.shape&&(e=1-.1*o.level),a=[`Player loses ${e} HP`,`Computer gains ${e} HP`,"Computer wins exchange"],n(0,o.hp-=e,o),n(2,s.hp+=e,s)}else a=["Tied exchange"];o.hp<0&&(a=["Player loses",...a]),s.hp<0&&(a=["Computer loses",...a]),n(0,o.hp=Math.round(100*o.hp)/100,o),n(2,s.hp=Math.round(100*s.hp)/100,s),n(1,l=[...a,`Player bets ${e}`,`Computer bets ${t}`,...l])},i=()=>{n(0,o.level++,o),n(0,o.power=1e3,o),n(0,o.hp=3,o),"triangle"==o.shape&&n(0,o.power+=350*o.level,o),"square"==o.shape&&n(0,o.hp+=2*o.level,o),n(2,s.level++,s),n(2,s.power=1e3+1e3*s.level,s),n(2,s.hp=3+2*s.level,s),n(2,s.name="Computer: "+a[s.level-1],s),n(3,u=null)};return i(),document.onkeydown=e=>{"Enter"==e.code&&s.hp>0&&o.hp>0&&c()},[o,l,s,u,c,i,function(){u=g(this.value),n(3,u)}]}return new class extends D{constructor(e){super(),I(this,e,Z,X,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
